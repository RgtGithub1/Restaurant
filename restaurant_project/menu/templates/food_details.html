{% extends "project_base.html" %}

{% load static %}

{% block content %}
<div id="main">
    <h1>{{ category }} <a href="{% url 'menu:menu_list' %}"
            style="text-align: right; float: right; color: black; text-decoration: none;">Menu</a></h1>
    <div class="row">
        {% for food in food_details_list %}
        <div class="col-md-3 mt-4">
            <a href="{{ product.get_absolute_url }}">
                <img src="{% if food.image %}{{ food.image.url }}{% else %}{% static " img/no_image.png" %}{% endif %}"
                    width="100%" height="240" border-radus="50%" style="border-radius: 15%">
            </a><br>
            <a href="{{ food.get_absolute_url }}"
                style="color: black; margin-left: 124px; text-decoration: none;">{{food.name }}</a><br>
            <div class="col-md-6">

            </div>
            <p style="margin-left: 124px;">${{ food.price }}</p>
            <div>
                <!-- <button style="background-color: red; color: #fff;" class="minus-btn" type="button">-</button>
                <input style="width: 30px;" type="text" class="quantity-input" value="0">
                <button style=" background-color: green; color: #fff;" class="plus-btn" type="button">+</button> -->
                <!-- <button class="btn btn-primary" style="margin-left: 10px;">Add To Cart</button> -->

            </div>
            <!-- <p>{{food.description}}</p> -->
            <script>

                // Retrieve the quantity input element
                const quantityInput = document.querySelector('.quantity-input');

                // Retrieve the plus and minus buttons
                const plusBtn = document.querySelector('.plus-btn');
                const minusBtn = document.querySelector('.minus-btn');

                // Add event listener to the plus button
                plusBtn.addEventListener('click', function () {
                    quantityInput.value = parseInt(quantityInput.value) + 1;
                });

                // Add event listener to the minus button
                minusBtn.addEventListener('click', function () {
                    const currentValue = parseInt(quantityInput.value);
                    if (currentValue > 1) {
                        quantityInput.value = currentValue - 1;
                    }
                });
            </script>
        </div>
        {% endfor %}

    </div>
    <script src="quantity.js"></script>

</div>
{% endblock %}